<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Undangan Pernikahan Dilla & Aldi</title>
  
  <!-- Google Fonts (Tetap sama, karena cocok) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <style>
    /* ======================================================= */
    /*               PERUBAHAN UTAMA THEME DIMULAI             */
    /* ======================================================= */
    :root {
      --primary-font: 'Playfair Display', serif;
      --secondary-font: 'Montserrat', sans-serif;
      /* WARNA BARU SESUAI UNDANGAN FISIK */
      --bg-color: #4a1d2e; /* Maroon Gelap */
      --text-color: #f0e6d2; /* Krem terang untuk teks */
      --accent-gold: #c8a464; /* Emas untuk judul dan aksen */
      --card-bg: #5c243a; /* Warna solid Maroon (sedikit lebih terang) */
      --border-color: rgba(200, 164, 100, 0.3);
      --card-alt-bg: #5c243a; /* Samakan agar konsisten */

    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: var(--secondary-font);
      background-color: var(--bg-color);
      color: var(--text-color); /* Teks utama menjadi krem */
      line-height: 1.8;
      overflow-x: hidden;
      overflow-y: hidden;
      /* Menambahkan tekstur halus pada background */
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%234a1d2e"/><path d="M11 11L89 89M89 11L11 89" stroke="%235c243a" stroke-width="0.5"/></svg>');
    }
    
    /* Tambahan Ornamen Batik di Kanan */
    body::after {
        content: '';
        position: fixed;
        top: 0;
        right: 0;
        height: 100%;
        width: 80px; /* Lebar ornamen batik */
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3Cg fill='%23c8a464' fill-opacity='0.4'%3E%3Cpath d='M80 40L40 80L0 40L40 0z M40 80L0 40V80H40z M40 0L80 40V0H40z'/%3E%3Cpath d='M30 50L50 30L70 50L50 70z M10 30L30 10L50 30L30 50z'/%3E%3C/g%3E%3C/svg%3E");
        background-size: 80px 80px;
        z-index: 0;
        opacity: 0.3;
    }

    .hidden-for-animation {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .visible {
      opacity: 1;
      transform: translateY(0);
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 1rem;
      position: relative;
      z-index: 2;
    }

    /* Kelopak bunga tidak cocok, kita sembunyikan */
    .floating-petals { display: none; }

    /* --- Cover / Amplop Pembuka --- */
    #cover {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background-color: var(--bg-color);
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      text-align: center; z-index: 2000;
      transition: opacity 1.5s ease-out, visibility 1.5s;
    }
    #cover.hidden { opacity: 0; visibility: hidden; }
    
    /* Ganti ikon bunga dengan gunungan */
    .gunungan-cover {
        width: 120px;
        margin-bottom: 1.5rem;
        filter: drop-shadow(0 0 15px rgba(200, 164, 100, 0.5));
    }
    
    .cover-content h1 {
        font-family: var(--primary-font);
        font-size: clamp(3rem, 10vw, 4rem);
        color: var(--text-color);
    }
    #guestNameToOpen { margin: 2rem 0; font-size: 1rem; }
    #openInvitation {
        background: transparent; color: var(--accent-gold);
        border: 1px solid var(--accent-gold); padding: 12px 30px;
        border-radius: 50px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease;
    }
    #openInvitation:hover { background: var(--accent-gold); color: var(--bg-color); }
    #openInvitation i { margin-right: 8px; }

    /* --- Header --- */
    .header { text-align: center; padding: 4rem 0 2rem 0; position: relative; }
    .couple-names {
      font-family: var(--primary-font);
      font-size: clamp(2.5rem, 8vw, 4rem);
      margin: 1rem 0;
      color: var(--accent-gold); /* Ganti warna nama menjadi Emas */
    }
    .subtitle {
      color: var(--accent-gold); /* Subtitle juga Emas */
      opacity: 0.8;
      font-size: clamp(0.9rem, 3vw, 1.1rem);
      font-weight: 300; letter-spacing: 4px; text-transform: uppercase;
    }
    .header p { color: var(--text-color); }

    /* --- HERO/HEADER BARU DENGAN FOTO --- */
#hero {
    position: relative;
    width: 100%;
    height: 80vh; /* Tinggi header, bisa disesuaikan */
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: white; /* Teks di atas foto dibuat putih agar kontras */
}
.hero-background {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    /* GANTI URL GAMBAR DI SINI */
    background-image: url('https://i.pinimg.com/736x/eb/78/ee/eb78eea9bf8c8e055c59ca249628bf69.jpg'); /* Ganti dengan link gambar Anda */
    background-size: cover;
    background-position: center;
    filter: brightness(0.6); /* Meredupkan gambar agar teks terbaca */
    z-index: -1;
}
.hero-content .subtitle { font-size: 1.1rem; letter-spacing: 3px; text-transform: uppercase;}
.hero-content .couple-names { font-family: var(--primary-font); font-size: clamp(3rem, 10vw, 5rem); margin: 0.5rem 0;}
.hero-content p { font-size: 1.2rem; }

    /* --- Invitation Card & Sections --- */
    .invitation-card {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 15px; padding: clamp(1.5rem, 5vw, 3rem);  
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  margin: 2rem 0; text-align: center; /* margin saya perbesar sedikit */
}

    .message { font-size: 1.1rem; margin: 1.5rem 0; line-height: 1.8; }
    .couple-details h2 {
        font-family: var(--primary-font);
        font-size: 2.5rem;
        color: var(--accent-gold); /* Nama mempelai Emas */
    }
    .couple-details p { color: var(--text-color); opacity: 0.9; }
    .ampersand {
        font-family: var(--primary-font);
        font-size: 3rem;
        color: var(--accent-gold); margin: 1rem 0;
    }
    .floral-divider { height: 1px; width: 80px; background-color: var(--border-color); margin: 3rem auto; }
    .section-title {
        font-family: var(--primary-font);
        font-size: clamp(2rem, 6vw, 2.5rem);
        text-align: center; margin: 3rem 0 2rem 0;
        color: var(--accent-gold); /* Semua judul bagian menjadi Emas */
    }

    /* Detail Card */
    .detail-card {
      text-align: center; padding: 2rem 1.5rem; border-radius: 10px;
      background: var(--card-alt-bg);
      transition: all 0.4s ease; cursor: pointer;
    }
    .detail-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.2); }
    .detail-card i { font-size: 2.5rem; color: var(--accent-gold); margin-bottom: 1rem; }
    .detail-title {
      font-family: var(--primary-font); font-size: 1.3rem; margin-bottom: 0.5rem;
      font-weight: 600; color: var(--accent-gold);
    }

    /* Countdown */
    .countdown-timer .timer-unit {
        background: var(--card-alt-bg);
    }
    .timer-value { color: var(--accent-gold); }
    .timer-label { color: var(--text-color); opacity: 0.8; }
    
    /* Tombol RSVP & Salin */
    .rsvp-button, .copy-button {
        background: var(--accent-gold);
        color: var(--bg-color); /* Teks di tombol menjadi warna maroon */
        font-weight: 500;
        box-shadow: 0 5px 15px rgba(0,0,0, 0.2);
        animation: none; /* Hapus animasi pulse */
    }
    .rsvp-button:hover, .copy-button:hover {
        background: var(--text-color);
        color: var(--bg-color);
    }

    /* Gallery */
    .gallery-item img { border: 2px solid var(--border-color); }
    
    /* Footer */
    .footer { color: var(--text-color); opacity: 0.8; }

    /* Tombol Musik */
    .music-control {
      bottom: 20px; right: 20px;
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      color: var(--text-color);
    }
    .music-control.playing i.fa-music { display: none; }
    .music-control.playing i.fa-pause { display: inline-block; }
    .music-control:not(.playing) i.fa-music { display: inline-block; }
    .music-control:not(.playing) i.fa-pause { display: none; }
    /* ======================================================= */
    /*                  AKHIR PERUBAHAN THEME                  */
    /* ======================================================= */
    
    /* Sisanya adalah kode styling fungsional yang tidak perlu diubah */
    .container { max-width: 800px; margin: 0 auto; padding: 1rem; position: relative; z-index: 2; }
    .event-details { display: grid; gap: 1.5rem; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
    .countdown-timer { display: flex; justify-content: center; gap: 1rem; text-align: center; }
    .timer-unit { border-radius: 8px; padding: 1rem; min-width: 70px; }
    .gallery-grid { display: grid; gap: 1rem; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
    .gallery-item img { width: 100%; height: 250px; object-fit: cover; border-radius: 10px; cursor: pointer; }
    #lightbox { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 3000; justify-content: center; align-items: center; }
    #lightbox img { max-width: 90%; max-height: 85%; }
    #lightbox.active { display: flex; }
    .gift-card { background: var(--card-alt-bg); padding: 2rem; border-radius: 10px; text-align: center; }
    .gift-card i { font-size: 2.5rem; color: var(--accent-gold); margin-bottom: 1rem; }
    .bank-logo { height: 25px; margin-bottom: 1rem; filter: brightness(0) invert(1); opacity: 0.8; }
    .account-number { font-size: 1.2rem; font-weight: 600; letter-spacing: 1px; margin-bottom: 1rem; }
    .copy-button { border: none; padding: 10px 20px; border-radius: 50px; cursor: pointer; }
    .rsvp-button { display: inline-block; width: auto; padding: 14px 40px; margin-top: 2rem; border: none; border-radius: 50px; font-size: 1.1rem; cursor: pointer; }
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center; }
    .modal-content { background: #5c243a; padding: 2.5rem; border-radius: 15px; max-width: 500px; width: 90%; position: relative; border: 1px solid var(--border-color); }
    .close-modal { position: absolute; top: 15px; right: 20px; font-size: 1.8rem; cursor: pointer; color: var(--accent-gold); }
    .modal-title { font-family: var(--primary-font); text-align: center; margin-bottom: 1.5rem; color: var(--accent-gold); font-size: 1.8rem; }
    .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 500; }
    .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 12px 15px; border: 1px solid var(--border-color); border-radius: 8px; font-family: var(--secondary-font); font-size: 1rem; background: var(--card-bg); color: var(--text-color); }
    .attendance-options { display: flex; justify-content: center; gap: 1.5rem; }
    .attendance-option { display: flex; flex-direction: column; align-items: center; cursor: pointer; }
    .attendance-circle { width: 70px; height: 70px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-bottom: 0.5rem; background: var(--card-bg); border: 2px solid var(--border-color); transition: all 0.3s ease; }
    .attendance-circle i { font-size: 1.8rem; color: var(--accent-gold); }
    .attendance-option.selected .attendance-circle { background: var(--accent-gold); border-color: var(--accent-gold); }
    .attendance-option.selected i { color: var(--bg-color); }
    .submit-btn { display: block; width: 100%; padding: 14px; background: var(--accent-gold); color: var(--bg-color); font-weight: 500; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; }
    .success-message { text-align: center; padding: 2rem; display: none; }
    .success-message i { font-size: 4rem; color: #76c893; margin-bottom: 1.5rem; }
    .loading { display: none; text-align: center; padding: 20px; }
    .loading-spinner { width: 50px; height: 50px; border: 5px solid rgba(200,164,100,0.2); border-top: 5px solid var(--accent-gold); border-radius: 50%; margin: 0 auto 20px; animation: spin 1s linear infinite; }
    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    .music-control { position: fixed; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 100; transition: all 0.4s ease; }
  </style>
</head>
<body>

  <!-- ======================================== -->
  <!--             COVER / AMPLOP               -->
  <!-- ======================================== -->
  <div id="cover">
    <div class="cover-content">
      <!-- Ikon Gunungan Wayang SVG -->
      <svg class="gunungan-cover" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#c8a464">
        <path d="M12 2L2 12h3v10h14V12h3L12 2zm7 18H5V12.72l7-6.23 7 6.23V20z"/>
        <path d="M12 4.47L5.5 10H4v10h16V10h-1.5L12 4.47zM18 18H6V11.56l6-5.34 6 5.34V18z"/>
        <path d="M12 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/>
      </svg>
      <h1>Dilla & Aldi</h1>
      <div id="guestNameToOpen">
        <p>Kepada Yth. Bapak/Ibu/Saudara/i</p>
        <span style="font-weight: 600; font-size: 1.2rem;">Tamu Undangan</span>
      </div>
      <button id="openInvitation">
        <i class="fas fa-envelope-open"></i> Buka Undangan
      </button>
    </div>
  </div>

  <!-- Main Content (Struktur HTML sama seperti sebelumnya) -->
  <main id="main-content" style="display: none;">
    <!-- Tombol Kontrol Musik -->
    <div class="music-control" id="musicControl">
      <i class="fas fa-music"></i>
      <i class="fas fa-pause"></i>
    </div>
  
    <!-- Modal RSVP (Tidak ada perubahan struktur) -->
    <div class="modal" id="rsvpModal">
      <div class="modal-content">
        <span class="close-modal" id="closeModal">&times;</span>
        <form id="rsvpFormElement">
          <h2 class="modal-title">Konfirmasi Kehadiran</h2>
          <div class="form-group"><label for="guestName">Nama Tamu</label><input type="text" id="guestName" name="nama" readonly></div>
          <div class="form-group"><label>Konfirmasi Kehadiran</label><div class="attendance-options"><div class="attendance-option selected" data-value="Hadir"><div class="attendance-circle"><i class="fas fa-check"></i></div><span>Hadir</span></div><div class="attendance-option" data-value="Tidak Hadir"><div class="attendance-circle"><i class="fas fa-times"></i></div><span>Tidak Hadir</span></div></div><input type="hidden" id="attendanceStatusInput" name="kehadiran" value="Hadir"></div>
          <div class="form-group"><label for="guestCount">Jumlah Orang yang Hadir</label><select id="guestCount" name="jumlah"><option value="1">1 Orang</option><option value="2" selected>2 Orang</option><option value="3">3 Orang</option><option value="4">4 Orang</option></select></div>
          <div class="form-group"><label for="guestMessage">Pesan/Ucapan</label><textarea id="guestMessage" name="pesan" placeholder="Tulis doa dan ucapan terbaik Anda..."></textarea></div>
          <button type="button" class="submit-btn" id="submitRsvp">Kirim Konfirmasi</button>
        </form>
        <div class="loading" id="loadingIndicator"><div class="loading-spinner"></div><p>Mengirim konfirmasi...</p></div>
        <div class="success-message" id="successMessage"><i class="fas fa-check-circle"></i><h2>Konfirmasi Terkirim!</h2><p>Terima kasih atas konfirmasi dan doa restu Anda.</p></div>
      </div>
    </div>
  
    <div class="container">
      <!-- HEADER BARU DENGAN FOTO -->
<section id="hero">
    <div class="hero-background"></div>
    <div class="hero-content">
        <p class="subtitle">The Wedding Of</p>
        <h1 class="couple-names">Dilla & Aldi</h1>
        <p>Sabtu, 20 Desember 2025</p>
    </div>
</section>

  
      <section class="invitation-card hidden-for-animation">
        <p class="message">"Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari jenismu sendiri, agar kamu cenderung dan merasa tenteram kepadanya, dan Dia menjadikan di antaramu rasa kasih dan sayang."<br><strong>(QS. Ar-Rum: 21)</strong></p>
        <div class="floral-divider"></div>
        <div class="couple-details">
            <div><h2>Aldiansyah</h2><p>Putra dari Bapak Japar & Ibu Marmi</p></div>
            <div class="ampersand">&</div>
            <div><h2>Dilla Amelia</h2><p>Putri dari Bapak Fulan & Ibu Fulanah</p></div>
        </div>
      </section>

      <section class="event-section hidden-for-animation">
        <h2 class="section-title">Save the Date</h2>
        <div class="event-details">
          <div class="detail-card"><i class="far fa-calendar-alt"></i><div class="detail-title">Akad & Resepsi</div><p>Sabtu, 20 Desember 2025</p><p>Pukul 10.00 WIB - Selesai</p></div>
          <div class="detail-card" onclick="window.open('https://maps.app.goo.gl/KVEAfe1nf39zD9Fw7', '_blank')"><i class="fas fa-map-marker-alt"></i><div class="detail-title">Lokasi Acara</div><p>Gg Pendidikan No. 270<br>Rumah Bapak Japar</p></div>
        </div>
      </section>

      <section class="countdown-section hidden-for-animation">
        <div class="invitation-card">
          <h2 class="section-title" style="margin-top:0;">Menuju Hari Bahagia</h2>
          <div class="countdown-timer">
            <div class="timer-unit"><div class="timer-value" id="days">00</div><div class="timer-label">Hari</div></div>
            <div class="timer-unit"><div class="timer-value" id="hours">00</div><div class="timer-label">Jam</div></div>
            <div class="timer-unit"><div class="timer-value" id="minutes">00</div><div class="timer-label">Menit</div></div>
            <div class="timer-unit"><div class="timer-value" id="seconds">00</div><div class="timer-label">Detik</div></div>
          </div>
        </div>
      </section>

      <section class="gallery-section hidden-for-animation">
        <h2 class="section-title">Momen Bahagia Kami</h2>
        <div class="gallery-grid">
            <div class="gallery-item"><img src="https://picsum.photos/400/500?random=1" alt="Foto 1"></div>
            <div class="gallery-item"><img src="https://picsum.photos/400/500?random=2" alt="Foto 2"></div>
            <div class="gallery-item"><img src="https://picsum.photos/400/500?random=3" alt="Foto 3"></div>
            <div class="gallery-item"><img src="https://picsum.photos/400/500?random=4" alt="Foto 4"></div>
        </div>
      </section>

      <div id="lightbox"><img id="lightbox-img" src=""></div>

      <section class="gift-section hidden-for-animation">
        <h2 class="section-title">Kado Digital</h2>
        <div class="gift-card">
          <i class="fas fa-gift"></i><p>Doa restu Anda adalah karunia terindah. Jika memberi adalah ungkapan tanda kasih, Anda dapat memberi kado secara digital.</p>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Bank_Central_Asia_logo.svg/2560px-Bank_Central_Asia_logo.svg.png" alt="Bank Logo" class="bank-logo">
          <p class="account-number" id="accountNumber">1234567890</p><p>a.n. Aldiansyah</p>
          <button class="copy-button" id="copyButton"><i class="far fa-copy"></i> Salin No. Rekening</button>
        </div>
      </section>
      
      <section class="rsvp-section hidden-for-animation">
        <div class="invitation-card">
            <h2 class="section-title" style="margin-top:0;">Konfirmasi Kehadiran</h2>
            <p>Merupakan suatu kehormatan bagi kami apabila Anda berkenan hadir untuk memberikan doa restu.</p>
            <button class="rsvp-button" id="rsvpButton"><i class="far fa-calendar-check"></i> RSVP</button>
        </div>
      </section>
      
      <footer class="footer hidden-for-animation">
        <p>Terima kasih atas doa dan restu Anda.</p>
        <h2 class="couple-names" style="font-size: 2rem;">Dilla & Aldi</h2>
      </footer>
    </div>
  </main>

  <audio id="backgroundMusic" loop><source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg"></audio>

  <script>
    // Seluruh JavaScript dari kode sebelumnya (tidak ada perubahan fungsionalitas)
    document.addEventListener("DOMContentLoaded", function() {
      const urlParams = new URLSearchParams(window.location.search);
      let guestName = urlParams.get('to') || 'Tamu Undangan';
      guestName = guestName.replace(/_/g, ' ').replace(/\+/g, ' ');
      document.querySelector("#guestNameToOpen span").textContent = guestName;
      document.getElementById("guestName").value = guestName;

      const cover = document.getElementById('cover');
      const openButton = document.getElementById('openInvitation');
      const mainContent = document.getElementById('main-content');
      const backgroundMusic = document.getElementById("backgroundMusic");
      const musicControl = document.getElementById("musicControl");

      openButton.addEventListener('click', () => {
        cover.classList.add('hidden');
        mainContent.style.display = 'block';
        document.body.style.overflowY = 'auto';
        backgroundMusic.volume = 0.3;
        backgroundMusic.play().catch(e => console.log("Autoplay dicegah"));
        if(!backgroundMusic.paused) musicControl.classList.add('playing');
        observeSections();
      });

      musicControl.addEventListener("click", function() {
        if (backgroundMusic.paused) {
          backgroundMusic.play();
          musicControl.classList.add('playing');
        } else {
          backgroundMusic.pause();
          musicControl.classList.remove('playing');
        }
      });

      const weddingDate = new Date("December 20, 2025 10:00:00").getTime();
      const countdownInterval = setInterval(function() {
        const now = new Date().getTime();
        const distance = weddingDate - now;
        if(distance < 0) {
            clearInterval(countdownInterval);
            document.getElementById("days").innerText = "00";
            return;
        }
        document.getElementById("days").innerText = Math.floor(distance / (1000 * 60 * 60 * 24)).toString().padStart(2, '0');
        document.getElementById("hours").innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)).toString().padStart(2, '0');
        document.getElementById("minutes").innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)).toString().padStart(2, '0');
        document.getElementById("seconds").innerText = Math.floor((distance % (1000 * 60)) / 1000).toString().padStart(2, '0');
      }, 1000);

      function observeSections() {
        const sections = document.querySelectorAll('.hidden-for-animation');
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });
        sections.forEach(section => observer.observe(section));
      }
      
      const lightbox = document.getElementById('lightbox');
      document.querySelectorAll('.gallery-item img').forEach(image => {
        image.addEventListener('click', () => { lightbox.classList.add('active'); lightbox.querySelector('img').src = image.src; });
      });
      lightbox.addEventListener('click', () => lightbox.classList.remove('active'));

      document.getElementById('copyButton').addEventListener('click', () => {
        navigator.clipboard.writeText(document.getElementById('accountNumber').textContent).then(() => {
          document.getElementById('copyButton').innerHTML = '<i class="fas fa-check"></i> Tersalin!';
          setTimeout(() => { document.getElementById('copyButton').innerHTML = '<i class="far fa-copy"></i> Salin'; }, 2000);
        });
      });

      const rsvpModal = document.getElementById("rsvpModal");
      const openRsvpBtn = document.getElementById("rsvpButton");
      const closeRsvpBtn = document.getElementById("closeModal");
      openRsvpBtn.addEventListener("click", () => { rsvpModal.style.display = "flex"; document.body.style.overflow = "hidden"; });
      closeRsvpBtn.addEventListener("click", () => { rsvpModal.style.display = "none"; document.body.style.overflow = "auto"; });

      document.querySelectorAll(".attendance-option").forEach(option => {
        option.addEventListener("click", function() {
          document.querySelectorAll(".attendance-option").forEach(opt => opt.classList.remove("selected"));
          this.classList.add("selected");
          document.getElementById("attendanceStatusInput").value = this.getAttribute("data-value");
        });
      });
      
      const rsvpFormElement = document.getElementById("rsvpFormElement");
      document.getElementById("submitRsvp").addEventListener("click", () => {
        const formDisplay = rsvpFormElement;
        const loading = document.getElementById("loadingIndicator");
        const success = document.getElementById("successMessage");
        formDisplay.style.display = "none";
        loading.style.display = "block";
        const scriptURL = 'https://script.google.com/macros/s/AKfycbzejNozKjJGFjaP2g3h2VII1whGrde6mjFICuvUvr2D7OtpYttHv_OAmfRwE14DLhpakg/exec';
        fetch(scriptURL, { method: 'POST', body: new FormData(rsvpFormElement) })
        .then(response => {
            loading.style.display = "none"; success.style.display = "block";
            setTimeout(() => {
              rsvpModal.style.display = "none"; document.body.style.overflow = "auto";
              setTimeout(() => { success.style.display = "none"; formDisplay.style.display = "block"; }, 500);
            }, 3000);
        })
        .catch(error => {
            alert("Gagal mengirim konfirmasi.");
            loading.style.display = "none"; formDisplay.style.display = "block";
        });
      });
    });
  </script>
</body>
</html>
